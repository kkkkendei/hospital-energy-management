{"ast":null,"code":"import { mapState, mapGetters } from 'vuex';\nexport default {\n  name: 'UserDashboard',\n  computed: {\n    ...mapState('auth', ['currentUser']),\n    ...mapGetters('auth', ['userRole']),\n    isAdmin() {\n      // 直接从 currentUser.roles (如果后端返回的是数组且包含角色字面量)\n      // 或者从 userRole getter (如果getter返回单个主要角色字符串)\n      // 此处我们假设 userRole 返回的是单个角色字符串，例如 \"ROLE_ADMIN\"\n      return this.userRole === 'ROLE_ADMIN' || this.currentUser && this.currentUser.roles && this.currentUser.roles.includes('ROLE_ADMIN');\n    }\n  }\n};","map":{"version":3,"names":["mapState","mapGetters","name","computed","isAdmin","userRole","currentUser","roles","includes"],"sources":["src/views/Dashboard.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-card>\r\n      <div slot=\"header\">\r\n        <span>欢迎回来, {{ currentUser ? currentUser.username : '用户' }}!</span>\r\n      </div>\r\n      <p>这里是医院能源管理系统仪表盘。</p>\r\n      <p>您当前的角色是: {{ currentUser && currentUser.role ? currentUser.role : (userRole ? userRole : '未知') }}</p>\r\n      <!-- 根据需要在此处添加更多仪表盘内容 -->\r\n      <div v-if=\"isAdmin\">\r\n        <p style=\"color: green;\">您拥有管理员权限。</p>\r\n        <!-- 管理员可见内容 -->\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  name: 'UserDashboard',\r\n  computed: {\r\n    ...mapState('auth', ['currentUser']),\r\n    ...mapGetters('auth', ['userRole']),\r\n    isAdmin() {\r\n      // 直接从 currentUser.roles (如果后端返回的是数组且包含角色字面量)\r\n      // 或者从 userRole getter (如果getter返回单个主要角色字符串)\r\n      // 此处我们假设 userRole 返回的是单个角色字符串，例如 \"ROLE_ADMIN\"\r\n      return this.userRole === 'ROLE_ADMIN' || (this.currentUser && this.currentUser.roles && this.currentUser.roles.includes('ROLE_ADMIN'));\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 根据需要添加样式 */\r\n</style> "],"mappings":"AAkBA,SAAAA,QAAA,EAAAC,UAAA;AAEA;EACAC,IAAA;EACAC,QAAA;IACA,GAAAH,QAAA;IACA,GAAAC,UAAA;IACAG,QAAA;MACA;MACA;MACA;MACA,YAAAC,QAAA,0BAAAC,WAAA,SAAAA,WAAA,CAAAC,KAAA,SAAAD,WAAA,CAAAC,KAAA,CAAAC,QAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}